@model DnsWebApp.Models.ViewModels.ZoneFileDisplay
;
; BIND data file for @Model.Fqdn
;
; Managed in DNS Manager, last modified ????
;
$ORIGIN .
$TTL    @Model.Zone.DefaultTimeToLive
;
; Start of Authority
@{
    var nameMinWidth = Math.Max(8, Model.Records.Max(x => (x.Name?.Length).GetValueOrDefault(1) + 1));
    var ttlMinWidth = Math.Max(0, Model.Records.Max(x => x.TimeToLive.ToString().Length + 1));
}
@("@".PadRight(nameMinWidth))@("".PadRight(ttlMinWidth))IN SOA     @Model.Zone.PrimaryNameServer. @Model.Zone.Administrator.Replace('@', '.'). @Model.Zone.SerialNumber @Model.Zone.Refresh @Model.Zone.Retry @Model.Zone.Expire @Model.Zone.TimeToLive
;
; Remaining records
@foreach (var r in Model.Records.OrderBy(x => string.Join('.', (x.Name ?? "@").Split('.').Reverse())))
{
    @(r.Name != null ? r.Name.PadRight(nameMinWidth) : "@".PadRight(nameMinWidth)) @(r.TimeToLive != null ? r.TimeToLive.ToString().PadRight(ttlMinWidth) : string.Empty.PadRight(ttlMinWidth)) @r.Class.ToString().PadRight(3) @r.Type.ToString().PadRight(8) @r.Value @Environment.NewLine
}
; End of zone file